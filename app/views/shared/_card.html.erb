
<div class="recipe-card d-flex flex-row">
  <div class="d-flex">
    <%= image_tag recipe.image_url, class: 'recipe-image' %>
  </div>

  <div class="recipe-info-container d-flex flex-column">
    <div class="recipes-index-card-info" data-favourite-target="recipe">
      <p class=""><%= recipe.servings %> servings</p>
      <i class="fa-solid fa-circle recipes-index-card-heart-circle"></i>
      <i class="fa-regular fa-clock"></i>
      <p class=""><%= recipe.cook_time %> mins</p>
    </div>
    <%= link_to recipe.title, recipe_path(recipe), class: "recipes-index-card-title" %>
  </div>
  <div class="favourite-btn-container">
    <%= turbo_frame_tag dom_id(recipe, :favourite_btn), class: "recipes-index-card-heart" do %>
      <% favourite_for_recipe = current_user.find_favourite_for_recipe(recipe) %>
      <% if favourite_for_recipe.nil? %>
        <%= link_to recipe_favourites_path(recipe), data: { turbo_method: :post } do %>
          <i class="fa-regular fa-heart recipes-index-card-heart"></i>
        <% end %>
      <% else %>
        <%# link to destroy the favourite %>
        <%= link_to favourite_path(favourite_for_recipe), data: { turbo_method: :delete } do %>
          <i class="fa-solid fa-heart recipes-index-card-heart"></i>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>
